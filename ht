async nextPage() {
    if (this.currentPage < this.totalPages) {
        try {
            this.currentPage++;
            await this.submitForm();
            console.log(this.currentPage);
        } catch (error) {
            this.currentPage--;  // If there is an error, roll back the page count
        }
    }
},
async previousPage() {
    if (this.currentPage > 1) {
        try {
            this.currentPage--;
            await this.submitForm();
            console.log(this.currentPage);
        } catch (error) {
            this.currentPage++;  // If there is an error, roll back the page count
        }
    }
},
async submitForm() {
    // ...rest of your function...

    if(response.data && response.data.data) {
        // ...rest of your function...

        // Update currentPage after a successful fetch
        this.currentPage = Math.ceil(this.searchResults.length / this.perPage);
    }
    // ...rest of your function...
}


<div class="card-datatable">
    <table class="table dataTable">
        <!-- ...rest of your table... -->
    </table>

    <div>
        <button @click="previousPage()">السابق</button>

        <button
            v-for="n in totalPages"
            :key="n"
            @click="currentPage = n"
            :class="{ 'is-active': n === currentPage }"
        >
            {{ n }}
        </button>

        <button @click="nextPage()">التالي</button>
    </div>
</div>
