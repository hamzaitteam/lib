async submitForm() {
    try {
        let url = 'http://127.0.0.1:8000/api/data';
        if (this.cardId) {
            url += `?card_id=${this.cardId}&page_size=${this.perPage}&page_number=${this.currentPage}`;
        } else {
            if (!this.firstName || !this.familyName) {
                Swal.fire({
                  icon: 'error',
                  title: 'Oops...',
                  text: 'Please enter both a first name and a family name when searching without a card ID.',
                });
                return;
            }
            url += `?first_name=${this.firstName}&father_name=${this.fatherName}&grandfather_name=${this.grandfatherName}&family_name=${this.familyName}&page_size=${this.perPage}&page_number=${this.currentPage}`;
        }

        const response = await axios.get(url);

        if(response.data && response.data.data) {
            this.searchResults = response.data.data.map(item => {
                return {
                    ...item,
                    fullName: `${item.CIT_FIRST} ${item.CIT_FATHER} ${item.CIT_GRANDF} ${item.CIT_FAMLY}`,
                    details: 'DETAILS_LINK_OR_MODAL_TRIGGER'
                };
            });

            console.log(this.searchResults);
            this.rows = response.data.total ? response.data.total : this.searchResults.length; 
        }
    } catch (error) {
        console.error(error);
    }
},
